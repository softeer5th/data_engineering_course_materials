## 1/6 회고

### 오늘 한 일
- W1M3 - ETL 프로세스 구현하기 추가 요구사항 부분 제외하고 마무리
- Extract
    - HTML에서 GDP 테이블을 추출하고 데이터프레임으로 변환.
    - 'wikitable' 클래스를 가진 테이블에서 GDP 데이터를 수집.
    - 테이블의 각 행(<tr>)에서 <td> 항목을 추출.
- Transform
    - 데이터프레임을 변환하여 필요한 데이터만 유지하고 GDP 데이터를 가공.
    - 'World' 데이터를 제거.
    - '—' 기호를 가진 데이터(누락된 값) 필터링.
    - 쉼표(,) 제거 후 GDP 데이터를 숫자로 변환.
    - 지역 매핑 파일을 이용해 국가별로 지역 추가.
- load
    - 변환된 데이터를 JSON 파일로 저장.
    - 저장 후 파일 크기를 로그에 기록.
- print
    - GDP가 100B USD 이상인 국가를 출력.
    - 지역별 상위 5개 국가의 GDP 평균을 계산하여 출력.
    ```
        📊 Region별 상위 5개 국가의 GDP 평균:
    +----+---------------+-----------------+
    |    | Region        |   Top 5 Avg GDP |
    +====+===============+=================+
    |  1 | North America |         6946.5  |
    +----+---------------+-----------------+
    |  2 | Asia          |         6255.97 |
    +----+---------------+-----------------+
    |  3 | Europe        |         3318.11 |
    +----+---------------+-----------------+
    |  4 | South America |          791.57 |
    +----+---------------+-----------------+
    |  5 | Oceania       |          734.84 |
    +----+---------------+-----------------+
    |  6 | Africa        |          238.18 |
    +----+---------------+-----------------+
    ```

- log
    - task 시작과 끝에 timestamp와 함께 로그 출력.
    ```
    ==================================================
    🚀 New Execution at 2025-January-06-18-31-14
    ==================================================

    2025-January-06-18-31-14, 웹 페이지 요청 성공
    2025-January-06-18-31-14, extract 시작
    2025-January-06-18-31-14, 총 210개 행 추출됨
    2025-January-06-18-31-14, 파일 저장 완료: Countries_by_GDP.json (20.91 KB)
    2025-January-06-18-31-14, extract 완료: Success
    2025-January-06-18-31-14, transform 시작
    2025-January-06-18-31-14, 필터링 완료: 16개 행 제거됨 (총 194개 남음)
    2025-January-06-18-31-14, 지역 매핑 완료: 0개 국가가 매핑되지 않음
    2025-January-06-18-31-14, transform 완료: Success
    2025-January-06-18-31-14, load 시작
    2025-January-06-18-31-14, 파일 저장 완료: Countries_by_GDP_Processed.json (23.96 KB)
    2025-January-06-18-31-14, load 완료: 194
    2025-January-06-18-31-14, print_gdp_over_100b 시작
    2025-January-06-18-31-14, GDP 100B 이상 국가 72개 출력됨
    2025-January-06-18-31-14, print_gdp_over_100b 완료: 72
    2025-January-06-18-31-14, print_region_avg_gdp 시작
    2025-January-06-18-31-15, Region별 GDP 평균 계산 완료 (총 6개 지역)
    2025-January-06-18-31-15, print_region_avg_gdp 완료: 6
    ```

- 팀 회의 내용 정리
    1. raw 데이터의 양이 압도적으로 많다면?
        - 데이터를 압축해 Extract하는 방식을 고려한다. (ex. chunk 단위 압축)
        - ETL 각 과정에서 큰 부하가 걸릴 것이 예상 되므로 ETL 과정이 모아져 있는 기존 코드와 달리 각 과정을 다른 코드에 분리하는 방식을 고려한다.
    2. raw 데이터를 Transform 하는데 시간이 아주 오래 걸린다면?
        - 한 ETL 과정을 여러 번의 ETL 과정으로 세분화 할 수 있다. Transform을 단계별로 나누어 진행하기 위함이다. 각 transform 단계의 결과를 저장할 때는 medallion architecture를 이용해 bronze layer, sliver layer, gold layer와 같이 나누어 저장한다. 
        - 실행 시간이 길어지는 만큼 단계를 세분화해서 그 단계에 해당하는 로그 작성을 잘해야 추후 디버깅에 용이하다.


### Keep

- 각자 ETL 코드에 대해 팀원들에게 설명하고 코드 리뷰하는 시간을 가졌다. 팀원들이 코드 작성 스타일이 다 달라서 다른 팀원의 코드를 보는 것이 흥미로웠고 도움이 많이 되었다.
- 특히 class를 활용해 구현을 하신 민재님의 코드가 인상적이었고, 나도 민재님의 코드를 바탕으로 리팩토링을 해보았다.

### Problem

- region mapping data 테이블을 제작할 때 적절한 방법을 찾지 못해 노가다성으로 코드를 작성했다. 좀 더 현명한 방법이 없었을지 고민해봐야 했다.

### Try

- 구현 과정에서 헷갈리는 부분이 좀 있었는데 다노님께 여쭤볼까 고민하던 찰나에 다른 분들이 먼저 슬랙 채널을 통해 여쭤봐주셨다. 나도 다음부터 다노님과의 소통 채널을 더 적극적으로 활용해보고 싶다.



